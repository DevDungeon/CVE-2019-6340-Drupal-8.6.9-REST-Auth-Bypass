# Requires all 4 of the REST modules to be turned on
	
# HAL
# HTTP Basic Authentication
# RESTful Web Services
# Serialization

import requests
import json

host = 'http://127.0.0.1:8000'


url = host + '/node/1' # this must be a node that exists to get the message that indicates it's processing even w/o auth
headers = {
  'Content-Type': 'application/hal+json',
  'Cache-Control': 'no-cache',
  'Accept': 'application/hal+json',
}
query = {
  '_format': 'hal_json',
}
data = {
  '_links': {'type': {'href': host + '/rest/type/node/asdfadfasdf'}},  # this node type must not exist to get the 'does not correspond' message
  'type': [{'target_id': 'article'}],
  'body': [{'value': 'Test body.'}],
  'title':[{'value': 'Test title'}],
}
response = requests.get(url,
                         params=query,
                         data=json.dumps(data).encode('utf-8'),
                         #auth=auth,  # No auth provided!
                         headers=headers)
print(response.status_code)
print(response.text)